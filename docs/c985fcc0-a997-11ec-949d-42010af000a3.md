---
id: "c985fcc0-a997-11ec-949d-42010af000a3"
title: "Capture elements in hybrid Android apps"
slug: "katalon-studio-enterprise/test-design/mobile-test-design/hybrid-mobile-apps-testing/capture-elements-in-hybrid-android-apps"
hide_title: true
---
import useBaseUrl from '@docusaurus/useBaseUrl';

    

# <a id="id" class="anchor_top_offset"/><a id="ariaid-title1" class="anchor_top_offset"/>Capture elements in hybrid Android apps

    
      
<p xmlns="http://www.w3.org/1999/xhtml" className="p">Katalon Mobile Recorder/Spy utility can detect elements in   hybrid app rendered as native app, but cannot as Webview. This   tutorial provides a solution to capture Android hybrid mobile   elements in WebView with Appium and Chrome Devtools. You can learn   more about Android WebView functionalities from the Android   developer documentation here: <a className="xref j-external-link" href="https://developer.android.com/reference/android/webkit/WebView" target="_blank">WebView</a>.</p> 
    
  
    

## <a id="id_1" class="anchor_top_offset"/>Enable WebView debugging for hybrid Android apps

    
      
<p xmlns="http://www.w3.org/1999/xhtml" className="p">Enable WebView debugging in your Android app. To enable this,   set the <code className="ph codeph">setWebContentsDebuggingEnabled</code> property on the   <code className="ph codeph">android.webkit.WebView</code> element to <code className="ph codeph">true</code>.   You can learn more about configuring WebView for debugging from the   Chrome developer documentation here: <a className="xref j-external-link" href="https://developer.chrome.com/docs/devtools/remote-debugging/webviews/" target="_blank">Remote     debugging WebViews</a>.</p> 
    
  

## <a id="id_2" class="anchor_top_offset"/>Install Chromedriver for Appium

<ol xmlns="http://www.w3.org/1999/xhtml" className="ol"><li className="li">     <p className="p">Download and install Chromedriver for Appium. You can follow the       instruction from the Appium website here: <a className="xref j-external-link" href="http://appium.io/docs/en/writing-running-appium/web/chromedriver/#chromedriverchrome-compatibility" target="_blank">Chromedriver</a>.       Make sure to download the compatible version with Chrome on your       testing devices.</p>   </li><li className="li">     <p className="p">Specify the Chromedriver version in the session. Go to       <strong className="ph b">Project &gt; Settings &gt; Desired Capabilities &gt; Mobile         &gt; Android</strong> and add this property:</p>     <table className="table"><caption /><thead className="thead"><tr className><th className="entry anchor_top_offset" id="id_2__entry__1">Name</th><th className="entry anchor_top_offset" id="id_2__entry__2">Type</th><th className="entry anchor_top_offset" id="id_2__entry__3">Value</th></tr></thead><tbody className="tbody"><tr className><td className="entry" headers="id_2__entry__1 id_2__entry__2 id_2__entry__3 ">chromedriverExecutable(*)</td><td className="entry" headers="id_2__entry__1 id_2__entry__2 id_2__entry__3 ">String</td><td className="entry" headers="id_2__entry__1 id_2__entry__2 id_2__entry__3 ">             <code className="ph codeph">&lt;path-to-your-chromedrive&gt;</code> (**)</td></tr></tbody></table>     <p className="p">(*) chromedriverExecutable: Support specifying Chromedriver       version in session capabilities.</p>     <p className="p">(**)<code className="ph codeph">&lt;path-to-your-chromedrive&gt;</code>: full path to       the Chromedriver executable downloaded from Step 1. For example:       <code className="ph codeph">/Users/katalon.team/node_modules/appium-chromedriver/chromedriver/mac/chromedriver_mac64_v96.0.4664.45</code>.</p>     <p className="p">       <img className="image" src={useBaseUrl("https://github.com/katalon-studio/docs-images/raw/master/katalon-studio/docs/capture-objects-in-hybrid-apps/KS-HYBRID-Set-Chrome-executable-path.png")} alt="Set up Android in Desired Capabilities" /><br /><br />     </p>   </li></ol> 

## <a id="id_3" class="anchor_top_offset"/>Capture elements in hybrid Android apps

<ol xmlns="http://www.w3.org/1999/xhtml" className="ol"><li className="li">Create a new test case. Go to <strong className="ph b">File &gt; New &gt; Test Case</strong>.</li><li className="li">     <p className="p">From the main toolbar in the blank test case page, click <strong className="ph b">Record Mobile</strong> and select <strong className="ph b">Android Devices</strong>. To learn more about the Record Mobile utility, you can refer to this document <a className="xref j-external-link" href="https://docs.katalon.com/katalon-studio/docs/record-mobile-utility.html" target="_blank">Record Mobile Utility</a>.</p>     <p className="p"> <img className="image" src={useBaseUrl("https://github.com/katalon-studio/docs-images/raw/master/katalon-studio/docs/capture-objects-in-hybrid-apps/Open-mobile-record.png")} alt="Open Mobile Record" /><br /><br />     </p>   </li><li className="li">     <p className="p">In the pop-up <strong className="ph b">Mobile Recorder</strong> dialog, specify the information in the <strong className="ph b">Configuration</strong> section, then click <strong className="ph b">Start</strong> to begin recording the application under test (AUT).</p>     <p className="p"> <img className="image" src={useBaseUrl("https://github.com/katalon-studio/docs-images/raw/master/katalon-studio/docs/capture-objects-in-hybrid-apps/Start-mobile-record.png")} alt="Start Mobile Record" /><br /><br />     </p>     <div className="note note note_note"><span className="note__title">Note:</span>        <ul className="ul"><li className="li">If your application begins in a WebView, and you don't want to open the AUT in the <code className="ph codeph">NATIVE_APP</code> context, go to <strong className="ph b">Project &gt; Settings &gt; Desired Capabilities &gt; Mobile &gt; Android</strong> to set <code className="ph codeph">autoWebview</code> to <code className="ph codeph">true</code> in <strong className="ph b">Desired capabilities</strong>.</li><li className="li">With this setting, the AUT automatically enters the <code className="ph codeph">WEBVIEW</code> context on session start. Skip Step 4,5,6 and move to Step 7 to continue to automate your hybrid app.</li></ul>     </div>   </li><li className="li">     <p className="p">By default, the Record Utility starts the AUT in the <code className="ph codeph">NATIVE_APP</code> context. Set to the <code className="ph codeph">WEBVIEW</code> context by using the <code className="ph codeph">switchToWebView</code> mobile keyword. More information here: <a className="xref j-external-link" href="https://docs.katalon.com/katalon-studio/docs/mobile-switch-to-web-view.html#example" target="_blank">[Mobile]switchToWebView</a>     </p>     <p className="p">In the main toolbar, click <strong className="ph b">Add &gt; Mobile keyword</strong>. A new command line appears, then manually add the <code className="ph codeph">switchToWebview</code> mobile keyword.</p>     <pre className="pre codeblock"><code>//to set context to WebView{"\n"}Mobile.switchToWebView(){"\n"}</code></pre>     <p className="p"> <img className="image" src={useBaseUrl("https://github.com/katalon-studio/docs-images/raw/master/katalon-studio/docs/capture-objects-in-hybrid-apps/add-webview-mobile-keyword.001.jpeg")} alt="Add switch to Webview" /><br /><br />     </p>   </li><li className="li">     <p className="p">Click <strong className="ph b">Save Script</strong>. An open dialog asks you to save captured objects into the Object Repository of Katalon Studio. Click <strong className="ph b">OK</strong> to save recorded actions and objects.</p>   </li><li className="li">     <p className="p">In the new test case saved from step 5, do as follows:</p>     <ul className="ul"><li className="li">Switch to the Script tab.</li><li className="li">Remove command line <strong className="ph b">Close Application</strong>.</li><li className="li">Run the test script.</li></ul>     <p className="p"> <img className="image" src={useBaseUrl("https://github.com/katalon-studio/docs-images/raw/master/katalon-studio/docs/capture-objects-in-hybrid-apps/results-after-recording-mobile-test.png")} alt="Results after recording mobile test" /><br /><br />     </p>   </li><li className="li">     <p className="p">Next, open Chrome browser and navigate to <strong className="ph b">chrome://inspect/#devices</strong>. The <strong className="ph b">chrome://inspect</strong> page displays:</p>     <ul className="ul"><li className="li">The name of your Android testing device.</li><li className="li">The version of Chrome that's running on the device, with the version number in parentheses.</li><li className="li">A list of debug-enabled WebViews on your device. After step 9, you should see the URL of the testing Android application here.</li><li className="li">         <p className="p">Click <strong className="ph b">Inspect</strong> to open a <strong className="ph b">Chrome Devtools</strong> instance. Use <strong className="ph b">Chrome Devtools</strong> to inspect WebView elements.</p>         <p className="p"> <img className="image" src={useBaseUrl("https://github.com/katalon-studio/docs-images/raw/master/katalon-studio/docs/capture-objects-in-hybrid-apps/chrome-inspect-displays-hybrid-app.png")} alt="Chrome Inspect displays" /><br /><br />         </p>         <p className="p">To learn more about <strong className="ph b">Chrome Devtools</strong> and its functions, see also <a className="xref j-external-link" href="https://developer.chrome.com/docs/devtools/" target="_blank">Chrome Devtools</a>.</p>         <p className="p"> <img className="image" src={useBaseUrl("https://github.com/katalon-studio/docs-images/raw/master/katalon-studio/docs/capture-objects-in-hybrid-apps/Chrome-Devtools.png")} alt="Debug-enabled Webviews in Devtools" /><br /><br />         </p>       </li></ul>   </li><li className="li">     <p className="p">Return to Katalon Studio. Create and automate objects in your test with inspected elements from Step 7. To learn more about creating test objects in Webview, you can refer to this document <a className="xref j-external-link" href="https://docs.katalon.com/katalon-studio/docs/manage-web-test-object.html#in-manual-view" target="_blank">Web Test Object</a>.</p>     <p className="p">In case you are defining test objects programmatically, you can use the following sample code in the script tab of your test:</p>     <div className="p">       <pre className="pre codeblock"><code>// this is unnecessary if your AUT automatically enters the WEBVIEW context on session start. {"\n"}Mobile.switchToWebView() {"\n"}// to implement Mobile Driver Factory {"\n"}DriverFactory.changeWebDriver(MobileDriverFactory.getDriver()){"\n"}// to create a new test object named cdmDetails {"\n"}TestObject cdmDetails = new TestObject() {"\n"}// to add the object's property inspected from step 10 {"\n"}cdmDetails.addProperty("id", ConditionType.EQUALS, "119") {"\n"}WebUI.setText(cdmDetails, "123"){"\n"}</code></pre>     </div>     <p className="p">If you wish to stop automating in the <code className="ph codeph">WEBVIEW</code> context and back to automating the native portion of the app, use the <code className="ph codeph">switchToNative</code> mobile keyword. More information here: <a className="xref j-external-link" href="https://docs.katalon.com/katalon-studio/docs/mobile-switch-to-native.html" target="_blank">[Mobile]switchToNative</a> mobile keyword.</p>     <div className="p">       <pre className="pre codeblock"><code>// to switch back to the native mode.{"\n"}Mobile.switchToNative(){"\n"}</code></pre>     </div><strong className="ph b">See also</strong>     <ul className="ul"><li className="li"> <a className="xref j-external-link" href="https://docs.katalon.com/katalon-studio/docs/flutter-based-application-testing.html" target="_blank">Flutter-based application testing with SetText custom keyword</a>       </li></ul>   </li></ol> 
