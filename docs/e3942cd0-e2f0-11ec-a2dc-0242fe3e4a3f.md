---
id: "e3942cd0-e2f0-11ec-a2dc-0242fe3e4a3f"
title: "Validate JSON/XML string against a schema for API testing (PoC)"
slug: "katalon-studio-enterprise/extend-katalon-studio/proof-of-concept/validate-json-xml-string-against-a-schema-for-api-testing-poc/validate-jsonxml-string-against-a-schema-for-api-testing-poc"
hide_title: true
---
import useBaseUrl from '@docusaurus/useBaseUrl';


# <a id="id" class="anchor_top_offset"/><a id="ariaid-title1" class="anchor_top_offset"/>Validate JSON/XML string against a schema for API testing (PoC) 

<div xmlns="http://www.w3.org/1999/xhtml" className="note important note_important"><span className="note__title">Important:</span> 
  <ul className="ul"><li className="li">This Proof of Concept (PoC) is not ready for production use. We
      recommend using this PoC for evaluation purposes only.</li><li className="li">Download Katalon Studio version <a className="xref j-external-link" href="https://github.com/katalon-studio/katalon-studio/releases/tag/v8.3.1.alpha" target="_blank">8.3.1.alpha</a>.</li></ul>
</div>
<p xmlns="http://www.w3.org/1999/xhtml" className="p">Testing API responses against a schema is an efficient and   effective way to make sure that APIs are working as expected.</p> 
<p xmlns="http://www.w3.org/1999/xhtml" className="p">This document shows you how to validate a JSON/ XML response   body, request body, or string against a JSON/ XML schema for API   testing in Katalon Studio. You can find a sample project for this   PoC on our GitHub repository: <a className="xref j-external-link" href="https://github.com/katalon-studio-samples/studio-schema-validation-example" target="_blank">Schema     Validation Sample Project</a>.</p> 
<p xmlns="http://www.w3.org/1999/xhtml" className="p">With this PoC, you can:</p> 
<ul xmlns="http://www.w3.org/1999/xhtml" className="ul"><li className="li">Use JSON schema to validate Restful response or request body     content.</li><li className="li">Use XML schema to validate Restful and SOAP response or request     body content.</li></ul> 

## <a id="id_1" class="anchor_top_offset"/>What is a schema?

<p xmlns="http://www.w3.org/1999/xhtml" className="p">A schema concisely describes the structure of other instances,   which can be used to require that an instance satisfies a certain   number of criteria. The document being validated or described is   called the instance, and the document containing the description is   called the schema. A schema validation asserts constraints on the   structure of the instance data. Recently, there has been a lot of   interest in using schemas, such as a JSON or XML schema, as a basis   for contract testing.</p> 
<p xmlns="http://www.w3.org/1999/xhtml" className="p">The infographic below demonstrates the role of JSON/XML schema   in API testing:</p> 
<p xmlns="http://www.w3.org/1999/xhtml" className="p">   <img className="image" src={useBaseUrl("https://github.com/katalon-studio/docs-images/raw/master/katalon-studio/docs/schema-validation/Validate-Format.png")} alt="Infographic based on the Automation Step By Step course: What is JSON Schema" /><br /><br /> </p> 
<p xmlns="http://www.w3.org/1999/xhtml" className="p">You can learn more from the JSON Schema documentation: <a className="xref j-external-link" href="https://json-schema.org/understanding-json-schema/about.html#about" target="_blank">What     is a schema?</a> </p> 

## <a id="id_2" class="anchor_top_offset"/>Validate against a JSON/ XML schema in the web service object         view

<p xmlns="http://www.w3.org/1999/xhtml" className="p">This section walks you through adding schema validation to a web   service request and viewing results.</p> 
<ol xmlns="http://www.w3.org/1999/xhtml" className="ol"><li className="li">     <p className="p">Open or create a new <strong className="ph b">Web Service Request</strong>. To       create a new Web Service Request, go to <strong className="ph b">Test Explorer &gt;         Object Repository</strong>. Right-click and choose <strong className="ph b">New &gt;         Web Service Request</strong>.</p>     <p className="p">       <img className="image" src={useBaseUrl("https://github.com/katalon-studio/docs-images/raw/master/katalon-studio/docs/schema-validation/new-web-service-request.png")} alt="new web service request" /><br /><br />     </p>   </li><li className="li">     <p className="p">Switch to the <strong className="ph b">Validation</strong> tab.</p>     <p className="p">       <img className="image" src={useBaseUrl("https://github.com/katalon-studio/docs-images/raw/master/katalon-studio/docs/schema-validation/XMLObjectValidationUI.png")} alt="validation" /><br /><br />     </p>   </li><li className="li">     <p className="p">To add new validation, click on <strong className="ph b">Add</strong> and input       the below information:</p>     <table className="table"><caption /><thead className="thead"><tr className><th className="entry anchor_top_offset" id="id_2__entry__1">Option</th><th className="entry anchor_top_offset" id="id_2__entry__2">Description</th></tr></thead><tbody className="tbody"><tr className><td className="entry" headers="id_2__entry__1 id_2__entry__2 ">Name</td><td className="entry" headers="id_2__entry__1 id_2__entry__2 ">Name of the validation.</td></tr><tr className><td className="entry" headers="id_2__entry__1 id_2__entry__2 ">Type</td><td className="entry" headers="id_2__entry__1 id_2__entry__2 ">             <ul className="ul"><li className="li">JSON Schema</li><li className="li">XML Schema</li><li className="li">Auto Detect</li></ul>           </td></tr><tr className><td className="entry" headers="id_2__entry__1 id_2__entry__2 ">Data Type</td><td className="entry" headers="id_2__entry__1 id_2__entry__2 ">             <ul className="ul"><li className="li">Text: Commonly used for simple schemas.</li><li className="li">File: JSON or XML schema file.</li><li className="li">Auto detect</li></ul>           </td></tr><tr className><td className="entry" headers="id_2__entry__1 id_2__entry__2 ">Data</td><td className="entry" headers="id_2__entry__1 id_2__entry__2 ">Input a schema, URL to a schema, or file path of a schema. If             the <strong className="ph b">Data Type</strong> is a file, you can click on             <strong className="ph b">Browse</strong> on the <strong className="ph b">Data</strong> cell to browse             to the schema file location.</td></tr><tr className><td className="entry" headers="id_2__entry__1 id_2__entry__2 ">Target</td><td className="entry" headers="id_2__entry__1 id_2__entry__2 ">             <ul className="ul"><li className="li">Response Body: check the response body.</li><li className="li">Request Body: check the request body.</li><li className="li">Request/Response: check both response and request body.</li></ul>           </td></tr></tbody></table></li><li className="li">     <p className="p">Validate against the schema:</p>     <p className="p">When you're done adding validation, hit <strong className="ph b">Save</strong>.       Click on the dropdown menu of the <strong className="ph b">Test Request</strong>,       choose <strong className="ph b">Test Request And Verify</strong>.</p>     <p className="p">       <img className="image" src={useBaseUrl("https://github.com/katalon-studio/docs-images/raw/master/katalon-studio/docs/schema-validation/test-request-and-verify.png")} width={250} alt="test request and verify" /><br /><br />     </p>   </li><li className="li"><p className="p">View validation results:</p><p className="p">In the <strong className="ph b">Result</strong> column of the       <strong className="ph b">Validation</strong> tab, the schema validation results       appear:</p><div className="p">       <img className="image" src={useBaseUrl("https://github.com/katalon-studio/docs-images/raw/master/katalon-studio/docs/schema-validation/XMLObjectValidationUIWithResult.png")} alt="result" /><br /><br />       <ul className="ul"><li className="li">           <strong className="ph b">Pass</strong>: the response passes the validation.</li><li className="li">           <strong className="ph b">Issue(s)</strong>: the response does not pass the           validation.</li></ul></div><p className="p">Click on the result cell to view more details. The       <strong className="ph b">Problem</strong> table appears with a list of issues. For       example: <code className="ph codeph">$.date is missing but it is required</code>, or       <code className="ph codeph">$.year: integer found, string expected</code>.</p><p className="p">       <img className="image" src={useBaseUrl("https://github.com/katalon-studio/docs-images/raw/master/katalon-studio/docs/schema-validation/XMLObjectValidationUIWithResultTabOut.png")} alt="result detail" /><br /><br />     </p></li></ol> 
<p xmlns="http://www.w3.org/1999/xhtml" className="p">You've successfully validated a JSON/ XML string against a   schema using Katalon Studio.</p> 

## <a id="id_3" class="anchor_top_offset"/>Validate against schemas in a test case

<p xmlns="http://www.w3.org/1999/xhtml" className="p">In this PoC, there are two new keywords for validating against a   JSON/ XML schema:</p> 
<ul xmlns="http://www.w3.org/1999/xhtml" className="ul"><li className="li">     <a className="xref" href="/docs/katalon-studio-enterprise/extend-katalon-studio/proof-of-concept/validate-json-xml-string-against-a-schema-for-api-testing-poc/ws-validate-json-string-against-a-schema-poc">[WS]       Validate a JSON string against a schema (PoC)</a>   </li><li className="li">     <a className="xref" href="/docs/katalon-studio-enterprise/extend-katalon-studio/proof-of-concept/validate-json-xml-string-against-a-schema-for-api-testing-poc/ws-validate-an-xml-string-against-a-schema-poc">[WS]       Validate an XML string against a schema (PoC)</a>   </li></ul> 
<p xmlns="http://www.w3.org/1999/xhtml" className="p">You can add these keywords directly in a test case to validate   against schemas:</p> 
<p xmlns="http://www.w3.org/1999/xhtml" className="p">   <img className="image" src={useBaseUrl("https://github.com/katalon-studio/docs-images/raw/master/katalon-studio/docs/schema-validation/XMLManual.png")} alt="test case with validation keywords" /><br /><br /> </p> 
<p xmlns="http://www.w3.org/1999/xhtml" className="p">   <strong className="ph b">View the test in script mode</strong>:</p> 
<p xmlns="http://www.w3.org/1999/xhtml" className="p">   <img className="image" src={useBaseUrl("https://github.com/katalon-studio/docs-images/raw/master/katalon-studio/docs/schema-validation/XMLScript.png")} alt="script mode" /><br /><br /> </p> 
<pre xmlns="http://www.w3.org/1999/xhtml" className="pre codeblock"><code>res = WS.sendRequest(findTestObject('XML')){"\n"}{"\n"}String xml = '''&lt;?xml version="1.0" encoding="utf-8"?&gt;{"\n"}&lt;List&gt;{"\n"}{"    "}&lt;item&gt;{"\n"}{"        "}&lt;id&gt;3&lt;/id&gt;{"\n"}{"        "}&lt;username&gt;James Johnson&lt;/username&gt;{"\n"}{"        "}&lt;password&gt;789&lt;/password&gt;{"\n"}{"        "}&lt;gender&gt;FEMALE&lt;/gender&gt;{"\n"}{"        "}&lt;age&gt;75&lt;/age&gt;{"\n"}{"        "}&lt;avatar/&gt;{"\n"}{"    "}&lt;/item&gt;{"\n"}&lt;/List&gt;'''{"\n"}{"\n"}String xmlFile = FileUtils.readFileToString(new File("example/xml/person.xml"));{"\n"}{"\n"}WS.validateXmlSchema(res, "example/xml/person.xsd");{"\n"}WS.validateXmlSchema(xml, "example/xml/person.xsd");{"\n"}WS.validateXmlSchema(xmlFile, "http://localhost:8080/api/users/xsd", FailureHandling.STOP_ON_FAILURE);{"\n"}</code></pre> 
<div xmlns="http://www.w3.org/1999/xhtml" className="note note note_note"><span className="note__title">Note:</span> 
  <ul className="ul"><li className="li">You can also add the <code className="ph codeph">sendRequestAndVerify</code> keyword
      as a test step. This action also sends the current request and
      executes verification snippets. Learn more about this keyword at
      our javadoc <a className="xref j-external-link" href="https://api-docs.katalon.com/com/kms/katalon/core/webservice/keyword/builtin/SendRequestAndVerifyKeyword.html" target="_blank">Send
        Request And Verify</a> and <a className="xref" href="/docs/katalon-studio-enterprise/test-design/web-services-test-design/working-with-apiweb-services-project/verification-snippets">Verification
        Snippets</a>.</li></ul>
</div>
<p xmlns="http://www.w3.org/1999/xhtml" className="p">When you execute your test, in the <strong className="ph b">Log Viewer</strong>,   you can see the result of those validation steps and a list of   issues (if any).</p> 
<ul xmlns="http://www.w3.org/1999/xhtml" className="ul"><li className="li">     <p className="p">Validation passed:</p>     <p className="p">       <img className="image" src={useBaseUrl("https://github.com/katalon-studio/docs-images/raw/master/katalon-studio/docs/schema-validation/validate-success.png")} alt="validation passed" /><br /><br />     </p>   </li><li className="li">     <p className="p">Validation failed:</p>     <p className="p">       <img className="image" src={useBaseUrl("https://github.com/katalon-studio/docs-images/raw/master/katalon-studio/docs/schema-validation/validation-failed.png")} alt="validation failed" /><br /><br />     </p>   </li><li className="li">     <p className="p">Validation failed with root causes:</p>     <p className="p">       <img className="image" src={useBaseUrl("https://github.com/katalon-studio/docs-images/raw/master/katalon-studio/docs/schema-validation/validation-failed-root-cause.png")} alt="validation failed with root causes" /><br /><br />     </p>   </li></ul> 
