---
id: "97e3df90-22b2-11ed-9930-0242fe3e4a3f"
title: "Automation testing of Shadow DOM elements with Katalon Studio"
slug: "katalon-studio-enterprise/test-design/web-test-design/web-test-objects/automation-testing-of-shadow-dom-elements-with-katalon-studio"
hide_title: true
---
import useBaseUrl from '@docusaurus/useBaseUrl';


# <a id="id" class="anchor_top_offset"/><a id="ariaid-title1" class="anchor_top_offset"/>Automation testing of Shadow DOM elements with Katalon Studio

<div xmlns="http://www.w3.org/1999/xhtml" className="note important note_important"><span className="note__title">Important:</span> 
  <p className="p">Chrome Browser from version 53 onwards. You can see browser versions with shadow DOM support here: <a className="xref j-external-link" href="https://caniuse.com/shadowdomv1" target="_blank">Shadow DOM (V1)</a>
  </p>
</div>
<p xmlns="http://www.w3.org/1999/xhtml" className="p">Shadow DOM allows DOM elements to contain child nodes and CSS, which helps web developers by better encapsulating their code. But this creates challenges for automation testing, because elements inside a shadow root technically don't exist in the main DOM.</p> 
<p xmlns="http://www.w3.org/1999/xhtml" className="p">In this article, we demonstrate how to test shadow DOM elements in the Katalon Studio framework.</p> 
<p xmlns="http://www.w3.org/1999/xhtml" className="p">We use the demo site <a className="xref j-external-link" href="https://books-pwakit.appspot.com/explore?q=" target="_blank">Books</a>. All the elements in this demo website are under a shadow root. In this demonstration, we identify shadow DOM objects, then verify them by successfully inputting: "hello World" into the website's search bar.</p> 
<p xmlns="http://www.w3.org/1999/xhtml" className="p">Do as follows:</p> 
<ol xmlns="http://www.w3.org/1999/xhtml" className="ol"><li className="li">     <p className="p">Create a new project. Go to <strong className="ph b">File &gt; New &gt; Project</strong>. Here, we name the project <strong className="ph b">Shadow DOM Testing</strong>.</p>     <p className="p"> <img className="image" src={useBaseUrl("https://github.com/katalon-studio/docs-images/raw/339de0f5ad5bce4f4dc1d8d7ef8f0ea6b5d0780a/katalon-studio/tutorials/shadow_dom_elements_testing/Katalon-DOM-testing.png")} width={500} alt="Create a project" /><br /><br />     </p>   </li><li className="li">     <p className="p">In the demo website, navigate to the search bar, <strong className="ph b">right-click &gt; Inspect</strong>. The <strong className="ph b">Chrome Developer</strong> tool opens and highlights its elements.</p>     <p className="p"> <img className="image" src={useBaseUrl("https://github.com/katalon-studio/docs-images/raw/master/katalon-studio/tutorials/shadow_dom_elements_testing/KS-DOM-Inspect-web-object%20element%20.png")} width={650} alt="Inspect web object element" /><br /><br />     </p>   </li><li className="li">     <p className="p">At this point, there are two Shadow DOM elements that you need to identify in the <strong className="ph b">Chrome Developer</strong> tool:</p>     <ul className="ul"><li className="li">The property of the parent object. The parent object is the shadow host. In this demo site, <code className="ph codeph">book-app</code> is the parent object.</li></ul>     <p className="p"> <img className="image" src={useBaseUrl("https://github.com/katalon-studio/docs-images/raw/59a8792abbe002830ddd808284c7a51a43fb5acb/katalon-studio/tutorials/shadow_dom_elements_testing/KS-DOM-Property-of-shadow-host.png")} width={650} alt="Identify the property of shadow host" /><br /><br />     </p>     <ul className="ul"><li className="li">The property of the child object. The child object is the shadow DOM elements we are inspecting. In this example, we look at the property of the search bar's elements.</li></ul>     <p className="p"> <img className="image" src={useBaseUrl("https://github.com/katalon-studio/docs-images/raw/master/katalon-studio/tutorials/shadow_dom_elements_testing/KS-DOM-Property-of-shadow-DOM-elements.png")} width={650} alt="Identify the property of child object" /><br /><br />     </p>     <p className="p">You can learn more about object properties from the Mozilla developer documentation here: <a className="xref j-external-link" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Working_with_Objects" target="_blank">Working with objects</a>.</p>   </li><li className="li">     <p className="p">After identifying the property of the parent object and the child object, return to the Katalon Studio framework to define object properties.</p>     <p className="p">Katalon Studio supports the following selection methods to create the object's properties: Attributes, XPath, CSS, Image. You can learn more about using the best selection method for object properties here: S<a className="xref" href="/docs/legacy/katalon-studio-enterprise/test-design/web-test-design/web-test-objects/selection-methods-for-web-tests#id_1">election Method</a>.</p>     <p className="p">In this example, we use the Attributes method. </p>     <div className="p">       <ul className="ul"><li className="li">           <p className="p">Create the parent object:</p>           <ul className="ul"><li className="li">Go to <strong className="ph b">File &gt; New &gt; Test Object</strong>. Name it as <strong className="ph b">book_app</strong>.</li><li className="li">In the <strong className="ph b">Object's Properties</strong> section, click <strong className="ph b">Add</strong>. An <strong className="ph b">Add Property</strong> dialog opens.</li><li className="li">Fill in the <strong className="ph b">Add Property</strong> dialog as shown below: <table className="table"><caption /><tbody className="tbody"><tr className><td className="entry"> <strong className="ph b">Name</strong>                     </td><td className="entry"> <strong className="ph b">Conditions</strong>                     </td><td className="entry"> <strong className="ph b">Value</strong>                     </td></tr><tr className><td className="entry">apptitle</td><td className="entry">equals</td><td className="entry">BOOKS</td></tr></tbody></table>             </li><li className="li">Click <strong className="ph b">OK</strong>. The <code className="ph codeph">apptitle</code> property appears in the <strong className="ph b">Object's Properties</strong> section.</li><li className="li">Check the <strong className="ph b">Detect object by</strong> box in the <code className="ph codeph">apptitle</code> property line to generate a <strong className="ph b">Selected Locator</strong> for the object. <p className="p"> <img className="image" src={useBaseUrl("https://github.com/katalon-studio/docs-images/raw/master/katalon-studio/tutorials/shadow_dom_elements_testing/KS-DOM-Results-after-creating-the-parent-objects.png")} width={650} alt="Results after creating the parent object" /><br /><br />               </p></li></ul>         </li><li className="li">           <p className="p">Create the child object:</p>           <ul className="ul"><li className="li">Go to <strong className="ph b">File &gt; New &gt; Test Object</strong>. Name it as <strong className="ph b">input</strong>.</li><li className="li">In the <strong className="ph b">Object's Properties</strong> section, click <strong className="ph b">Add</strong>. An <strong className="ph b">Add Property</strong> dialog opens.</li><li className="li">               <p className="p">Fill in the <strong className="ph b">Add Property</strong> dialog as shown below:</p>               <table className="table"><caption /><tbody className="tbody"><tr className><td className="entry"> <strong className="ph b">Name</strong>                     </td><td className="entry"> <strong className="ph b">Conditions</strong>                     </td><td className="entry"> <strong className="ph b">Value</strong>                     </td></tr><tr className><td className="entry">id</td><td className="entry">equals</td><td className="entry">input</td></tr></tbody></table>             </li><li className="li">               <p className="p">Check the <strong className="ph b">Detect object by</strong> box in the <code className="ph codeph">input</code> property line to generate a <strong className="ph b">Selected Locator</strong> for the object.</p>               <p className="p"> <img className="image" src={useBaseUrl("https://github.com/katalon-studio/docs-images/raw/master/katalon-studio/tutorials/shadow_dom_elements_testing/KS-DOM-after-creating-the-property-of-child-object.png")} width={650} alt="Results after creating the property child object" /><br /><br />               </p>             </li></ul>           <ul className="ul"><li className="li">After defining the property, in the <strong className="ph b">Settings</strong> section, choose the <strong className="ph b">Shadow DOM parent</strong> option, then click <strong className="ph b">Browse</strong>. An <strong className="ph b">Object Repository Browser</strong> dialog opens.</li><li className="li">In the open dialog, choose the <code className="ph codeph">book_app</code> object as the parent object. Click <strong className="ph b">OK</strong>.</li><li className="li">Once finished, the <code className="ph codeph">input</code> object identifies <code className="ph codeph">book_app</code> as its <strong className="ph b">Shadow Root Parent</strong> as below.               <p className="p"> <img className="image" src={useBaseUrl("https://github.com/katalon-studio/docs-images/raw/master/katalon-studio/tutorials/shadow_dom_elements_testing/KS-DOM-after-defining-parent-object-for-the-child-object.png")} width={650} alt="Results after pointing the child object to the parent object" /><br /><br />                </p></li></ul>         </li></ul>     </div>   </li><li className="li">     <p className="p">Next, create a new test case. Go to <strong className="ph b">File &gt; New &gt; Test Case</strong>. We name ours <strong className="ph b">Shadow DOM Test</strong>.</p>   </li><li className="li">     <p className="p">In the new test case, switch to the Script tab, copy and paste the following script into the test script.</p>     <pre className="pre codeblock"><code>import static com.kms.katalon.core.testobject.ObjectRepository.findTestObject{"\n"}{"\n"}import com.kms.katalon.core.webui.keyword.WebUiBuiltInKeywords as WebUI{"\n"}{"\n"}//Open browser and navigate to the AUT website{"\n"}WebUI.openBrowser('https://books-pwakit.appspot.com/explore?q='){"\n"}{"\n"}//Input text into the search bar{"\n"}WebUI.setText(findTestObject('Object Repository/input'), 'hello World'){"\n"}{"\n"}//Delay 5s to view the result{"\n"}WebUI.delay(5){"\n"}{"\n"}//Close the browser to clean up{"\n"}WebUI.closeBrowser(){"\n"}{"\n"}</code></pre>     <p className="p"> <img className="image" src={useBaseUrl("https://github.com/katalon-studio/docs-images/raw/master/katalon-studio/tutorials/shadow_dom_elements_testing/KS-DOM-final-test-script.png")} width={500} alt="Write the Test Script" /><br /><br />     </p>     <p className="p">You can also write the test case in the Manual tab. Learn more about the manual mode here: <a className="xref" href="/docs/legacy/katalon-studio-enterprise/create-tests-and-projects/manage-projects/create-test-case/generate-test-steps-in-manual-view">Create the test in Manual mode</a>     </p>   </li><li className="li">     <p className="p">Run the test script. In the main toolbar. Click <strong className="ph b">Run &gt; Chrome</strong>.</p>     <p className="p">Katalon Studio should successfully find the element within the shadow root and input the text: "hello World" into the search bar.</p>     <p className="p"> <img className="image" src={useBaseUrl("https://github.com/katalon-studio/docs-images/raw/master/katalon-studio/tutorials/shadow_dom_elements_testing/KS-DOM-final-results-after-running-the-test.png")} width={650} alt="Run the Test Script" /><br /><br />     </p>   </li></ol> 
